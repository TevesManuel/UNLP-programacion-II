programa ejemplo
procesos
  proceso nivelador(E ID:numero)
  variables
    ACK: boolean
  comenzar
    si (ID = 1)
      EnviarMensaje(V,bot2)
      EnviarMensaje(V,bot3)
      RecibirMensaje(ACK,bot2)
      RecibirMensaje(ACK,bot3)
    
    si (ID = 2)
      EnviarMensaje(V,bot1)
      EnviarMensaje(V,bot3)
      RecibirMensaje(ACK,bot1)
      RecibirMensaje(ACK,bot3)
      
    si (ID = 3)
      EnviarMensaje(V,bot1)
      EnviarMensaje(V,bot2)
      RecibirMensaje(ACK,bot1)
      RecibirMensaje(ACK,bot2)
  fin
  proceso limpiarEsquina(ES flores:numero)
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
      flores := flores + 1
  fin
  proceso etapa(E cant:numero)
  variables
    flores:numero
    avO,caO:numero
    repes:numero
  comenzar
    limpiarEsquina(flores)
    repetir cant
      limpiarEsquina(flores)
      mover
    avO := PosAv
    caO := PosCa
    repes:=flores
    repetir repes
      BloquearEsquina(50,50)
      Pos(50,50)
      depositarFlor
      flores:= flores -1
      Pos(avO,caO)
      LiberarEsquina(50,50)
  fin
areas
  HQ: AreaP (1,4,1,4)
  area1: AreaP(1,1,100,1)
  area2: AreaP(1,2,100,2)
  area3: AreaP(1,3,100,3)
  deposito: AreaP(50,50,50,50)
robots
  robot robot1
  variables
    ID:numero
  comenzar
    derecha
    RecibirMensaje(ID,admin)
    repetir 9
      etapa(10)
      nivelador(ID)
    etapa(9)
    etapa(0)
    EnviarMensaje(V,admin)
  fin
  robot coordinador
  variables
    ACK:numero
    flores:numero
  comenzar
    EnviarMensaje(1,bot1)
    EnviarMensaje(2,bot2)
    EnviarMensaje(3,bot3)
    repetir 3
      RecibirMensaje(ACK,*)
    BloquearEsquina(50,50)
    Pos(50,50)
    mientras HayFlorEnLaEsquina
      tomarFlor
      flores := flores + 1
    Informar(flores)
  fin
variables
  bot1: robot1
  bot2: robot1
  bot3: robot1
  admin:coordinador
comenzar
  AsignarArea(bot1, area1)
  AsignarArea(bot1, deposito)
  AsignarArea(bot2, area2)
  AsignarArea(bot2, deposito)
  AsignarArea(bot3, area3)
  AsignarArea(bot3, deposito)
  AsignarArea(admin, HQ)
  AsignarArea(admin, deposito)
  Iniciar(bot1, 1,1)
  Iniciar(bot2, 1,2)
  Iniciar(bot3, 1,3)
  Iniciar(admin, 1,4)
fin